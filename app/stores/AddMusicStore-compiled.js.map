{"version":3,"sources":["AddMusicStore.js"],"names":[],"mappings":"AAAA,OAAO,GAAG,MAAM,QAAQ,CAAA;AACxB,OAAO,eAAe,MAAM,4BAA4B,CAAA;AACxD,OAAO,SAAS,MAAM,mBAAmB,CAAA;AACzC,OAAO,MAAM,MAAM,QAAQ,CAAA;;AAE3B,MAAM,aAAa,CAAC;AAClB,aAAW,GAAG;AACZ,QAAI,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;AAClC,QAAI,CAAC,KAAK,GAAG,EAAE,CAAC;AAChB,QAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;AAC7B,QAAI,CAAC,YAAY,GAAG,EAAE,CAAC;AACvB,QAAI,CAAC,MAAM,GAAG,SAAS,CAAC;AACxB,QAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAI,CAAC,UAAU,GAAG,KAAK,CAAC;GACzB;;AAED,wBAAsB,CAAC,IAAI,EAAE;AAC3B,QAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,KAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AACjE,QAAI,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC;AACrC,QAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AACpC,QAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;AACpC,QAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AAC1B,QAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;AAC3C,QAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,YAAY,CAAC;GACpC;;AAED,qBAAmB,CAAC,IAAI,EAAC;AACvB,QAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,KAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;AACzE,QAAI,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;AAC7C,QAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC;AACxD,QAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC;AACrF,QAAI,CAAC,KAAK,CAAC,GAAG,GAAG,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC;AACjD,QAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;AAC3C,QAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;GACjC;;AAED,qBAAmB,GAAE;AACnB,OAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;GACnB;;AAED,kBAAgB,GAAE;AAChB,OAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;GACnB;;AAED,mBAAiB,GAAE;AACjB,OAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;GACnB;;AAED,cAAY,GAAG;AACb,QAAI,CAAC,kBAAkB,GAAG,iCAAiC,CAAC;AAC5D,QAAI,CAAC,YAAY,GAAG,qBAAqB,CAAC;GAC3C;CACF;;AAED,eAAe,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC","file":"AddMusicStore-compiled.js","sourcesContent":["import alt from '../alt'\nimport AddMusicActions from '../actions/AddMusicActions'\nimport GenreData from '../data/GenreData'\nimport moment from 'moment'\n\nclass AddMusicStore {\n  constructor() {\n    this.bindActions(AddMusicActions);\n    this.music = {};\n    this.isLoading = false;\n    this.urlValidationState = '';\n    this.urlHelpBlock = '';\n    this.genres = GenreData;\n    this.canSubmit = false;\n    this.urlIsValid = false;\n  }\n\n  onGetSoundCloudSuccess(data) {\n    this.urlIsValid = true;\n    [this.music.artist, this.music.title] = data.title.split('-', 2);\n    this.music.completeName = data.title;\n    this.music.duration = data.duration;\n    this.music.image = data.artwork_url;\n    this.music.url = data.url;\n    this.music.isMix = data.duration > 1200000;\n    this.music.hostType = 'soundcloud';\n  }\n\n  onGetYoutubeSuccess(data){\n    this.urlIsValid = true;\n    [this.music.artist, this.music.title] = data.snippet.title.split('-', 2);\n    this.music.completeName = data.snippet.title;\n    this.music.image = data.snippet.thumbnails.standard.url;\n    this.music.duration = moment.duration(data.contentDetails.duration).asMilliseconds();\n    this.music.url = 'https://youtu.be/v/' + data.id;\n    this.music.isMix = data.duration > 1200000;\n    this.music.hostType = 'youtube';\n  }\n\n  onGetSoundCloudFail(){\n    alt.recycle(this);\n  }\n\n  onGetYoutubeFail(){\n    alt.recycle(this);\n  }\n\n  onAddMusicSuccess(){\n    alt.recycle(this);\n  }\n\n  onInvalidUrl() {\n    this.urlValidationState = 'parsley-validated parsley-error';\n    this.urlHelpBlock = 'Please enter a url.';\n  }\n}\n\nexport default alt.createStore(AddMusicStore);"]}